{"data":{"site":{"siteMetadata":{"title":"Shopify Liquid code examples"}},"markdownRemark":{"id":"d9711e01-8a4c-5742-b625-cad11a152c0e","html":"<ol>\n<li>Add a new section in the <code class=\"language-text\">sections</code> directory and name it <code class=\"language-text\">recommended-products</code>. Paste the code below in the new file.</li>\n<li>Locate the <code class=\"language-text\">product.liquid</code> template and add the following Liquid tag where you would like the recommended products to appear: <code class=\"language-text\">{% section &#39;recommended-products&#39; %}</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"twig\"><pre class=\"language-twig\"><code class=\"language-twig\"><span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n  <span class=\"token selector\">.product-card</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span> top<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 25%<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.visuallyhidden</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">clip</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rect</span><span class=\"token punctuation\">(</span>0 0 0 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 1px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> -1px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 1px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">white-space</span><span class=\"token punctuation\">:</span> nowrap<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></span>\n\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">number_of_products</span> <span class=\"token operator\">=</span> <span class=\"token property\">section</span><span class=\"token punctuation\">.</span><span class=\"token property\">settings</span><span class=\"token punctuation\">.</span><span class=\"token property\">number_of_products</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">number_of_products_to_fetch</span> <span class=\"token operator\">=</span> <span class=\"token property\">number_of_products</span> <span class=\"token operator\">|</span> <span class=\"token property\">plus</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">if</span></span> <span class=\"token property\">collection</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">null</span> <span class=\"token operator\">or</span> <span class=\"token property\">collection</span><span class=\"token punctuation\">.</span><span class=\"token property\">handle</span> <span class=\"token operator\">==</span> <span class=\"token string\"><span class=\"token punctuation\">'</span>frontpage<span class=\"token punctuation\">'</span></span> <span class=\"token operator\">or</span> <span class=\"token property\">collection</span><span class=\"token punctuation\">.</span><span class=\"token property\">handle</span> <span class=\"token operator\">==</span> <span class=\"token string\"><span class=\"token punctuation\">'</span>all<span class=\"token punctuation\">'</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n  <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">found_a_collection</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n  <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">for</span></span> <span class=\"token property\">c</span> <span class=\"token operator\">in</span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">collections</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n    <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">if</span></span> <span class=\"token property\">found_a_collection</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">and</span> <span class=\"token property\">c</span><span class=\"token punctuation\">.</span><span class=\"token property\">handle</span> <span class=\"token operator\">!=</span> <span class=\"token string\"><span class=\"token punctuation\">'</span>frontpage<span class=\"token punctuation\">'</span></span> <span class=\"token operator\">and</span> <span class=\"token property\">c</span><span class=\"token punctuation\">.</span><span class=\"token property\">handle</span> <span class=\"token operator\">!=</span> <span class=\"token string\"><span class=\"token punctuation\">'</span>all<span class=\"token punctuation\">'</span></span> <span class=\"token operator\">and</span> <span class=\"token property\">c</span><span class=\"token punctuation\">.</span><span class=\"token property\">all_products_count</span> <span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n      <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">found_a_collection</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n      <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">collection</span> <span class=\"token operator\">=</span> <span class=\"token property\">c</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n    <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endif</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n  <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endfor</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endif</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">if</span></span> <span class=\"token property\">collection</span> <span class=\"token operator\">and</span> <span class=\"token property\">collection</span><span class=\"token punctuation\">.</span><span class=\"token property\">products_count</span> <span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n  <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span></span><span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">section</span><span class=\"token punctuation\">.</span><span class=\"token property\">settings</span><span class=\"token punctuation\">.</span><span class=\"token property\">heading</span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span><span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span></span>\n    <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">current_product</span> <span class=\"token operator\">=</span> <span class=\"token property\">product</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n    <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">current_product_found</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n    <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">for</span></span> <span class=\"token property\">product</span> <span class=\"token operator\">in</span> <span class=\"token property\">collection</span><span class=\"token punctuation\">.</span><span class=\"token property\">products</span> <span class=\"token property\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token property\">number_of_products_to_fetch</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n      <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">if</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">handle</span> <span class=\"token operator\">==</span> <span class=\"token property\">current_product</span><span class=\"token punctuation\">.</span><span class=\"token property\">handle</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n        <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">assign</span></span> <span class=\"token property\">current_product_found</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n      <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">else</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n        <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">unless</span></span> <span class=\"token property\">current_product_found</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">and</span> <span class=\"token property\">forloop</span><span class=\"token punctuation\">.</span><span class=\"token property\">last</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n          <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n            &lt;a href=\"</span><span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">url</span> <span class=\"token operator\">|</span> <span class=\"token property\">within</span><span class=\"token punctuation\">:</span> <span class=\"token property\">collection</span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span><span class=\"token other\">\" class=\"product-card\">\n              &lt;img src=\"</span><span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">featured_image</span><span class=\"token punctuation\">.</span><span class=\"token property\">src</span> <span class=\"token operator\">|</span> <span class=\"token property\">img_url</span><span class=\"token punctuation\">:</span> <span class=\"token string\"><span class=\"token punctuation\">'</span>1024x<span class=\"token punctuation\">'</span></span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span><span class=\"token other\">\" alt=\"\"></span>\n              <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">title</span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span>\n              <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>â€”<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></span>\n                <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">if</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">price_varies</span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n                  <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>visuallyhidden<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Starting at<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></span>\n                  <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">price_min</span> <span class=\"token operator\">|</span> <span class=\"token property\">money_without_trailing_zeros</span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span>\n                  <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>+<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></span>\n                <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">else</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n                  <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">price</span> <span class=\"token operator\">|</span> <span class=\"token property\">money_without_trailing_zeros</span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span>\n                <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endif</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n              <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n              <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>visuallyhidden<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>by<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></span>\n                <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{{</span></span> <span class=\"token property\">product</span><span class=\"token punctuation\">.</span><span class=\"token property\">vendor</span> <span class=\"token rd\"><span class=\"token punctuation\">}}</span></span></span>\n              <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></span>\n        <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endunless</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n      <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endif</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n    <span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endfor</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n  <span class=\"token other\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></span>\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%-</span> <span class=\"token keyword\">endif</span></span> <span class=\"token rd\"><span class=\"token punctuation\">-%}</span></span></span>\n\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%</span> <span class=\"token keyword\">schema</span></span> <span class=\"token rd\"><span class=\"token punctuation\">%}</span></span></span>\n<span class=\"token other\">{\n  \"name\": \"Recommended products\",\n  \"settings\": [\n    {\n      \"type\": \"text\",\n      \"id\": \"heading\",\n      \"label\": \"Heading\",\n      \"default\": \"Recommended products\"\n    },\n    {\n      \"type\": \"select\",\n      \"id\": \"number_of_products\",\n      \"label\": \"Number of products to show\",\n      \"default\": \"4\",\n      \"options\": [\n        {\n          \"value\": \"4\",\n          \"label\": \"4\"\n        },\n        {\n          \"value\": \"8\",\n          \"label\": \"8\"\n        },\n        {\n          \"value\": \"12\",\n          \"label\": \"12\"\n        }\n      ]\n    }\n  ]\n}</span>\n<span class=\"token tag\"><span class=\"token ld\"><span class=\"token punctuation\">{%</span> <span class=\"token keyword\">endschema</span></span> <span class=\"token rd\"><span class=\"token punctuation\">%}</span></span></span></code></pre></div>","frontmatter":{"path":"/example/recommended-products-by-collection","title":"Recommended products by collection","desc":"A recommended products section helps to drive conversions by making it easy for customers to continue shopping. Recommended products are often displayed at the bottom of the product page. This example features products within the same collection.","tags":["products","recommended-products"],"category":"products","date":"2018-12-05T00:00:00.000Z"}}},"pageContext":{}}